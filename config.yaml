# GWAS Pipeline Configuration
# Step 1: Project Configuration

# Project metadata
project:
  name: "gwas-tutorial"
  description: "GWAS+PRS+eQTL analysis using 1000 Genomes and GEO data"
  version: "1.0.0"

# Data directories
paths:
  data_dir: "data"
  genotypes_dir: "data/genotypes"
  phenotypes_dir: "data/phenotypes"
  expression_dir: "data/expression"
  results_dir: "results"
  plots_dir: "results/plots"

# 1000 Genomes Project settings
genotypes:
  source: "1000genomes"
  phase: "phase3"
  reference: "GRCh37"  # hg19
  chromosomes: [2, 3, 4, 6, 8, 9, 10, 11]  # Subset for tutorial
  base_url: "ftp://ftp.1000genomes.ebi.ac.uk/vol1/ftp/release/20130502"
  vcf_format: true
  
# GEO expression data settings
expression:
  source: "geo"
  geo_accession: ""  # e.g., "GSE12345" - to be filled in
  download_processed: true  # Use Series Matrix files if available
  normalize: true

# Phenotype settings
phenotypes:
  file: "data/phenotypes/phenotypes.csv"
  case_control: true  # true for binary, false for continuous
  case_label: 1
  control_label: 0

# Quality Control thresholds
qc:
  sample_missingness_threshold: 0.10  # Remove samples with >10% missing
  variant_missingness_threshold: 0.10  # Remove variants with >10% missing
  maf_threshold: 0.01  # Minor allele frequency threshold
  hwe_p_threshold: 1e-6  # Hardy-Weinberg equilibrium p-value threshold
  call_rate_threshold: 0.95  # Minimum call rate
  relatedness_threshold: 0.2  # pi-hat threshold for relatedness

# PCA settings
pca:
  ld_prune_r2: 0.2  # LD pruning threshold
  n_components: 10  # Number of principal components to calculate
  n_covariates: 5   # Number of PCs to include as covariates

# GWAS settings
gwas:
  model: "logistic"  # "logistic" for binary, "linear" for continuous
  covariates: ["age", "sex", "pc1", "pc2", "pc3", "pc4", "pc5"]
  genomic_control: true
  multiple_testing: "bonferroni"  # "bonferroni", "fdr", or "permutation"
  significance_threshold: 5e-8  # Genome-wide significance

# PRS settings
prs:
  pvalue_thresholds: [1e-5, 1e-4, 1e-3, 0.01, 0.05, 0.1, 0.5, 1.0]
  clump_r2: 0.1
  clump_kb: 250

# eQTL settings (optional)
eqtl:
  enabled: false
  cis_window: 1e6  # 1MB window for cis-eQTL
  trans_window: 5e6  # 5MB window for trans-eQTL
  fdr_threshold: 0.05

# Visualization settings
visualization:
  manhattan_plot: true
  qq_plot: true
  regional_plot: true
  pca_plot: true
  figure_format: "png"  # "png", "pdf", "svg"
  dpi: 300

# Output settings
output:
  save_results: true
  save_plots: true
  save_intermediate: false  # Save intermediate QC files
  compress_output: false

